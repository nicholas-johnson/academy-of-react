<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo 2 - Virtual DOM Speed</title>
    <link rel="stylesheet" href="styles.css" />
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
  </head>
  <body>
    <h1>Virtual DOM Speed Comparison</h1>
    <p class="subtitle">See why React's Virtual DOM approach is efficient</p>

    <div class="explanation">
      <h3>How This Works</h3>
      <ul>
        <li>
          <strong>Traditional DOM:</strong> Rebuilds the ENTIRE list from
          scratch every time
        </li>
        <li>
          <strong>React Virtual DOM:</strong> Compares old vs new, only updates
          what changed
        </li>
        <li>
          <strong>Key insight:</strong> Change ONE value, then render both —
          watch the difference!
        </li>
      </ul>
    </div>

    <div class="stats">
      <div class="stat-box">
        <div class="label">Items</div>
        <div class="value" id="array-size">0</div>
      </div>
      <div class="stat-box">
        <div class="label">DOM Time</div>
        <div class="value dom-color" id="dom-time">-</div>
      </div>
      <div class="stat-box">
        <div class="label">React Time</div>
        <div class="value react-color" id="react-time">-</div>
      </div>
      <div class="stat-box">
        <div class="label">DOM Nodes Changed</div>
        <div class="value dom-color" id="dom-changes">-</div>
      </div>
      <div class="stat-box">
        <div class="label">React Nodes Changed</div>
        <div class="value react-color" id="react-changes">-</div>
      </div>
    </div>

    <div class="highlight-section">
      <h3>The Key Test: Change One Value</h3>
      <p>Click this after initial render to see React's diffing in action</p>
      <button class="btn-change-one" onclick="changeOneValue()">
        Change Random Value → Then Render Both
      </button>
    </div>

    <div class="controls">
      <button class="btn-dom" onclick="renderWithDOM()">
        Render with DOM
      </button>
      <button class="btn-react" onclick="renderWithReact()">
        Render with React
      </button>
      <button class="btn-regenerate" onclick="regenerateNumbers()">
        New Random Numbers
      </button>
    </div>

    <div class="results">
      <div class="result-panel dom">
        <h2>Traditional DOM</h2>
        <div class="timing" id="dom-timing"></div>
        <div class="dom-changes" id="dom-changes-text"></div>
        <div class="list-container">
          <ol id="dom-list"></ol>
        </div>
      </div>
      <div class="result-panel react">
        <h2>React Virtual DOM</h2>
        <div class="timing" id="react-timing"></div>
        <div class="dom-changes" id="react-changes-text"></div>
        <div class="list-container" id="react-root"></div>
      </div>
    </div>

    <div class="console-hint">
      <h3>Try it in the Console!</h3>
      <p>
        The <code>items</code> array is exposed globally. Open DevTools (F12)
        and try:
      </p>
      <pre>
// Change a single value (then click render buttons)
items[0].value = 999999;

// Change multiple values
items[5].value = 11111;
items[10].value = 22222;

// Make a huge array
items = Array.from({ length: 5000 }, (_, i) => ({ id: i, value: Math.floor(Math.random() * 10000) }));</pre
      >
    </div>

    <script src="app.js"></script>
  </body>
</html>
